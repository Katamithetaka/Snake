<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Snake Game</title>
</head>
<body>
	<script>
	
		function vec2(x, y = x)
		{
			const vec2 = {};
			vec2.x = x;
			vec2.y = y;
			return vec2;
		}

		function vec3(x)
		{
			const vec3 = {};
			vec3.x = x;
			vec3.y = x;
			vec3.z = x;
			return vec3;
		}

		function vec3(x, y, z)
		{
			const vec3 = {};
			vec3.x = x;
			vec3.y = y;
			vec3.z = z;
			return vec3;
		}


		window.onload = function()
		{
			const Direction = 
			{
				left: 0, right: 1, up: 2, down: 3, none: 4
			}
			Object.freeze(Direction);

			const snake = 
			{
				GenerateApple()
				{
					return vec2(Math.floor(Math.random() * this.gridCount) + 0.5, Math.floor(Math.random() * this.gridCount) + 0.5); 
				},

				InitApp()
				{
					this.position = vec2(this.gridCount / 2 + 0.5, this.gridCount / 2 + 0.5);
					this.tail = new Array(4).fill(this.position, 0, this.tailSize);
					this.apple = this.GenerateApple();
					this.canvas = document.createElement("canvas")
				},

				Run()
				{
					let lastFrame = Date.now();
					setInterval(()=>{

						let now = Date.now();
						let deltaTime = now - lastFrame;
						this.Update(deltaTime);
						
					}, 100/6)
				},

				Update(deltatime)
				{
					switch(this.direction)
					{
						case Direction.left: break;
						case Direction.right: break;
						case Direction.up: break;
						case Direction.down: break;
						default: break;
					}
				},


				gridCount: 20,
				position: vec2(0),
				tail: [vec2()],
				tailSize: 4,
				apple: vec2(),
				direction: Direction.none,
				appleColor: vec3(0.6 * 255, 0.0 * 255, 0.0 * 255),
				snakeColor: vec3(0.101 * 255, 0.6 * 255, 0 * 255)
			}

			snake.InitApp();

			console.log(snake)
		}
	</script>
</body>
</html>